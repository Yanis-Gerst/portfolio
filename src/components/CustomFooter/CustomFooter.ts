import {
  createElementWithAttribute,
  createShadowDomWithStyle,
} from "../../utils/domManipulation.ts";
import style from "./style.css?inline";

const socialLinksConfigs = [
  {
    svg:
      '<svg width="19" height="21" viewBox="0 0 19 21" fill="none" xmlns="http://www.w3.org/2000/svg">\n' +
      '<path d="M3.88421 16.653C3.58421 16.453 3.32621 16.197 3.02421 15.837C2.86746 15.6451 2.71212 15.4521 2.55821 15.258C2.09521 14.683 1.80321 14.417 1.50221 14.308C1.37556 14.2661 1.25858 14.1992 1.15815 14.1114C1.05772 14.0236 0.975882 13.9166 0.917446 13.7967C0.859011 13.6767 0.825162 13.5463 0.817892 13.4131C0.810623 13.2799 0.83008 13.1466 0.875118 13.021C0.920156 12.8955 0.989864 12.7802 1.08014 12.6819C1.17041 12.5837 1.27943 12.5046 1.40076 12.4491C1.5221 12.3937 1.6533 12.363 1.78665 12.3591C1.91999 12.3551 2.05279 12.3779 2.17721 12.426C2.92921 12.696 3.43821 13.161 4.12421 14.014C4.03021 13.897 4.46421 14.441 4.55721 14.553C4.74721 14.78 4.88721 14.918 4.99721 14.991C5.20121 15.128 5.58521 15.187 6.14721 15.131C6.17121 14.749 6.24121 14.378 6.34921 14.035C3.38121 13.31 1.70121 11.395 1.70121 7.63899C1.70121 6.40099 2.07121 5.28399 2.75921 4.34799C2.54121 3.45399 2.57421 2.37299 3.06121 1.15599C3.11635 1.01814 3.2015 0.894295 3.31047 0.793454C3.41944 0.692612 3.5495 0.617301 3.69121 0.572987C3.77221 0.548987 3.81821 0.538987 3.89921 0.525987C4.70221 0.402987 5.83621 0.695987 7.31421 1.62299C8.195 1.41707 9.09666 1.31372 10.0012 1.31499C10.9132 1.31499 11.8202 1.41799 12.6852 1.62299C14.1622 0.689987 15.2992 0.395987 16.1072 0.525987C16.1922 0.539987 16.2652 0.557987 16.3252 0.576987C16.464 0.622764 16.5911 0.698421 16.6976 0.79863C16.804 0.898839 16.8872 1.02116 16.9412 1.15699C17.4282 2.37199 17.4612 3.45299 17.2432 4.34699C17.9342 5.28299 18.3012 6.39199 18.3012 7.63899C18.3012 11.397 16.6272 13.305 13.6592 14.032C13.7842 14.447 13.8492 14.91 13.8492 15.412C13.8492 16.076 13.8472 16.711 13.8422 17.422C13.8422 17.612 13.8402 17.816 13.8372 18.128C14.0613 18.1773 14.2616 18.3022 14.4045 18.4817C14.5474 18.6612 14.6242 18.8844 14.6221 19.1138C14.62 19.3432 14.5391 19.5649 14.3929 19.7418C14.2467 19.9186 14.0441 20.0398 13.8192 20.085C12.6792 20.313 11.8352 19.553 11.8352 18.561L11.8372 18.114L11.8422 17.409C11.8472 16.702 11.8502 16.071 11.8502 15.412C11.8502 14.715 11.6662 14.26 11.4242 14.051C10.7632 13.481 11.0982 12.397 11.9652 12.3C14.9312 11.966 16.3012 10.817 16.3012 7.63999C16.3012 6.68499 15.9892 5.89499 15.3882 5.23499C15.2619 5.09622 15.1773 4.92473 15.1438 4.74012C15.1104 4.5555 15.1296 4.36521 15.1992 4.19099C15.3652 3.77599 15.4352 3.23399 15.2942 2.57699L15.2842 2.57899C14.7932 2.71899 14.1742 3.01899 13.4262 3.52899C13.3056 3.61084 13.1685 3.66534 13.0246 3.68866C12.8808 3.71198 12.7335 3.70356 12.5932 3.66399C11.7492 3.42994 10.8771 3.31218 10.0012 3.31399C9.11121 3.31399 8.22921 3.43399 7.40921 3.66399C7.26965 3.70324 7.12322 3.71167 6.98007 3.6887C6.83693 3.66574 6.70049 3.61192 6.58021 3.53099C5.82721 3.02399 5.20621 2.72399 4.71021 2.58399C4.56721 3.23699 4.63821 3.77799 4.80321 4.19099C4.87281 4.36521 4.892 4.5555 4.85858 4.74012C4.82515 4.92473 4.74047 5.09622 4.61421 5.23499C4.01721 5.89099 3.70121 6.69399 3.70121 7.63899C3.70121 10.811 5.07221 11.969 8.02321 12.299C8.88821 12.397 9.22521 13.477 8.56821 14.048C8.37521 14.215 8.13821 14.78 8.13821 15.412V18.561C8.13821 19.547 7.30421 20.287 6.17821 20.09C5.94943 20.0504 5.74154 19.9325 5.59021 19.7564C5.43887 19.5804 5.35352 19.3571 5.34879 19.125C5.34406 18.8929 5.42025 18.6663 5.56428 18.4842C5.70832 18.3021 5.91123 18.1758 6.13821 18.127V17.137C5.22821 17.199 4.47721 17.05 3.88421 16.653Z" fill="#121212"/>\n' +
      "</svg>\n",
    link: "https://github.com/Yanis-Gerst",
    alt: "A link to my Github Icon",
  },
  {
    svg:
      '<svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n' +
      '<path d="M4.93994 2.00002C4.93968 2.53046 4.72871 3.03906 4.35345 3.41394C3.97819 3.78883 3.46937 3.99929 2.93894 3.99902C2.40851 3.99876 1.89991 3.78779 1.52502 3.41253C1.15014 3.03727 0.939676 2.52846 0.939942 1.99802C0.940207 1.46759 1.15117 0.958988 1.52644 0.584103C1.9017 0.209218 2.41051 -0.00124153 2.94094 -0.000976312C3.47137 -0.000711096 3.97998 0.210257 4.35486 0.585517C4.72975 0.960777 4.94021 1.46959 4.93994 2.00002ZM4.99994 5.48002H0.999942V18H4.99994V5.48002ZM11.3199 5.48002H7.33994V18H11.2799V11.43C11.2799 7.77002 16.0499 7.43002 16.0499 11.43V18H19.9999V10.07C19.9999 3.90002 12.9399 4.13002 11.2799 7.16002L11.3199 5.48002Z" fill="#121212"/>\n' +
      "</svg>\n",
    link: "https://www.linkedin.com/in/yanis-gerst-595432243/",
    alt: "A link to LinkedIn account",
  },
];

export default class CustomFooter extends HTMLElement {
  shadow: ShadowRoot;
  constructor() {
    super();
    this.shadow = createShadowDomWithStyle(this, style);
    this.render();
  }

  render() {
    const footerWrapper = document.createElement("footer");
    const iconWrapper = createElementWithAttribute("div", {
      className: "footer__social-link-wrapper",
    });

    const signatureText = document.createElement("p");
    signatureText.textContent = "Designed & built by Yanis Gerst";

    this.shadow.appendChild(footerWrapper);
    footerWrapper.appendChild(iconWrapper);
    footerWrapper.appendChild(signatureText);

    this.addSocialLinks(iconWrapper);
  }

  addSocialLinks(wrapper: HTMLDivElement) {
    socialLinksConfigs.forEach((config) => {
      const anchorElement = document.createElement("a");
      anchorElement.href = config.link;
      const socialIcon = document.createElement("div");
      socialIcon.innerHTML += config.svg;
      anchorElement.appendChild(socialIcon);
      wrapper.appendChild(anchorElement);
    });
  }
}
